# ============================================================================
# AI Provider API Keys
# ============================================================================
# Configure one or more AI providers for text generation
# IMPORTANT: Keep these secret! Never commit to git.

# OpenAI API (gpt-3.5-turbo, gpt-4, gpt-4o)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# DeepSeek API (deepseek-chat) - 60-70% cheaper than OpenAI
# Get your API key from: https://platform.deepseek.com/api_keys
# Cost: ~$0.27/M input tokens, ~$1.10/M output tokens
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# Anthropic Claude API (claude-3-5-sonnet, claude-sonnet-4)
# Get your API key from: https://console.anthropic.com/settings/keys
# Cost: ~$3/M input tokens, ~$15/M output tokens
# Best for complex documents and large outputs
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Lemonfox.ai TTS API (Text-to-Speech for podcasts)
# Get your API key from: https://www.lemonfox.ai/account/api-keys
# Cost: $2.50 per 1M characters (83% cheaper than OpenAI TTS!)
# Supports 8 languages: en-us, en-gb, ja, zh, es, fr, hi, it, pt-br
# 50+ natural-sounding voices available
LEMONFOX_API_KEY=your_lemonfox_api_key_here

# YouTube Data API v3 (for Video Learning feature)
# Get your API key from: https://console.cloud.google.com/apis/credentials
# Required for video search and metadata extraction
# Free tier: 10,000 units/day (1 search = 100 units, 100 searches/day)
# Setup instructions:
# 1. Create/select a project in Google Cloud Console
# 2. Enable YouTube Data API v3
# 3. Create an API key
# 4. (Optional) Restrict key to YouTube Data API v3 for security
YOUTUBE_API_KEY=your_youtube_api_key_here

# ============================================================================
# Supabase Configuration
# ============================================================================
# Database and storage backend
# Get these from: https://app.supabase.com/project/_/settings/api

# Public URL (safe to expose to client)
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url

# Anon key (safe to expose to client, used for RLS)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Service role key (NEVER expose to client! Server-side only)
# Has admin privileges, bypasses RLS
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# ============================================================================
# Clerk Authentication
# ============================================================================
# User authentication and management
# Get these from: https://dashboard.clerk.com

# Publishable key (safe to expose to client)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key

# Secret key (server-side only)
CLERK_SECRET_KEY=your_clerk_secret_key

# Auth flow URLs (customize as needed)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# ============================================================================
# Stripe Configuration (Optional - for monetization)
# ============================================================================
# Payment processing and subscriptions
# Get these from: https://dashboard.stripe.com/apikeys

# Publishable key (safe to expose to client)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key

# Secret key (server-side only)
STRIPE_SECRET_KEY=your_stripe_secret_key

# Webhook secret (for validating Stripe webhook events)
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret

# ============================================================================
# Sentry Error Monitoring (RECOMMENDED for production)
# ============================================================================
# Error tracking and performance monitoring
# Get these from: https://sentry.io
# Free tier: 5,000 events/month
# Setup guide: See SENTRY-SETUP.md for complete instructions

# DSN for error reporting (safe to expose to client)
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn_here
SENTRY_DSN=your_sentry_dsn_here

# Organization and project (for source maps)
SENTRY_ORG=your_sentry_org
SENTRY_PROJECT=your_sentry_project

# Auth token for uploading source maps (server-side only)
SENTRY_AUTH_TOKEN=your_sentry_auth_token

# ============================================================================
# Upstash Redis (Optional - for distributed rate limiting)
# ============================================================================
# Serverless Redis for rate limiting across multiple instances
# Get these from: https://console.upstash.com
# Free tier: 10,000 commands/day

# Only needed if you want distributed rate limiting
# Otherwise, in-memory rate limiting will be used (resets on server restart)
# UPSTASH_REDIS_REST_URL=your_upstash_redis_url
# UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_token

# ============================================================================
# Cloudflare R2 Storage (For large file uploads - 500MB+ textbooks)
# ============================================================================
# S3-compatible object storage with zero egress fees
# Get these from: https://dash.cloudflare.com/r2
# Cost: $0.015/GB storage, $0 egress (vs AWS S3: $0.023/GB + $0.09/GB egress)
#
# Setup instructions:
# 1. Create a Cloudflare account and navigate to R2
# 2. Create a new R2 bucket (e.g., "synaptic-documents")
# 3. Go to "Manage R2 API Tokens" and create a token with read/write permissions
# 4. Copy the Access Key ID, Secret Access Key, and endpoint URL below
#
# IMPORTANT: For large documents (500MB+ textbooks), R2 is REQUIRED
# - Stores files efficiently without size limits
# - Zero egress fees save ~90% on bandwidth costs
# - Works seamlessly with RAG (Retrieval-Augmented Generation)

# R2 endpoint URL (format: https://<account-id>.r2.cloudflarestorage.com)
R2_ENDPOINT=your_r2_endpoint_url_here

# R2 access credentials (from API token)
R2_ACCESS_KEY_ID=your_r2_access_key_id_here
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key_here

# R2 bucket name (the bucket you created for document storage)
R2_BUCKET_NAME=synaptic-documents

# Public URL for accessing files (optional - if bucket is public)
# Format: https://pub-<id>.r2.dev or custom domain
R2_PUBLIC_URL=your_r2_public_url_here

# ============================================================================
# ChromaDB Vector Database (For RAG - Retrieval-Augmented Generation)
# ============================================================================
# Vector database for semantic search on large documents
# Enables intelligent Q&A, flashcard generation, and chat on 500MB+ textbooks
#
# Setup instructions:
# 1. For development: Run ChromaDB locally with Docker:
#    docker run -d -p 8000:8000 chromadb/chroma
# 2. For production: Use hosted ChromaDB or deploy your own instance
# 3. Update CHROMA_URL to point to your ChromaDB instance
#
# Why ChromaDB?
# - Free and open-source
# - Perfect for prototyping RAG systems
# - Easy migration to Pinecone for production scale
# - Supports OpenAI embeddings (text-embedding-3-small)

# ChromaDB URL (default: http://localhost:8000 for Docker)
CHROMA_URL=http://localhost:8000

# ============================================================================
# App Configuration
# ============================================================================

# App URL (update for production)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Environment (development | production | test)
NODE_ENV=development

# ============================================================================
# Google Calendar Integration (Optional)
# ============================================================================
# Enable importing events from Google Calendar
# Get OAuth credentials from: https://console.cloud.google.com/apis/credentials
#
# Setup instructions:
# 1. Create a project in Google Cloud Console
# 2. Enable Google Calendar API
# 3. Create OAuth 2.0 credentials (Web application)
# 4. Add authorized redirect URI: {NEXT_PUBLIC_APP_URL}/api/integrations/google-calendar/callback
# 5. Copy the Client ID and Client Secret below

# Google OAuth Client ID (safe to expose)
GOOGLE_CLIENT_ID=your_google_client_id_here

# Google OAuth Client Secret (server-side only)
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# OAuth Redirect URI (should match NEXT_PUBLIC_APP_URL + callback path)
# GOOGLE_REDIRECT_URI=http://localhost:3000/api/integrations/google-calendar/callback

# ============================================================================
# AI Provider Selection (Optional)
# ============================================================================
# Override which AI provider to use for each feature
# Options: openai, deepseek, anthropic
# If not set, intelligent defaults are used:
#  - Mind maps: deepseek (simple/moderate docs) or anthropic (complex docs)
#  - Podcast scripts: deepseek (cost-effective)
#  - Flashcards: openai (existing implementation)
#  - Chat: openai (existing implementation)

# Mind map generation provider
# MINDMAP_PROVIDER=deepseek

# Podcast script generation provider (audio TTS always uses OpenAI)
# PODCAST_SCRIPT_PROVIDER=deepseek

# Flashcard generation provider (optional override)
# FLASHCARD_PROVIDER=openai

# Document chat provider (optional override)
# CHAT_PROVIDER=openai

# ============================================================================
# Optional: Feature Flags
# ============================================================================

# Enable/disable features for testing
# NEXT_PUBLIC_ENABLE_PODCAST=true
# NEXT_PUBLIC_ENABLE_MINDMAP=true
# NEXT_PUBLIC_ENABLE_URL_IMPORT=true

# ============================================================================
# Optional: Cost Controls
# ============================================================================

# Maximum monthly OpenAI spend (in USD)
# The app will stop making requests after this limit
# MAX_MONTHLY_OPENAI_SPEND=100

# Maximum cost per request (in USD)
# Requests exceeding this will be rejected
# MAX_COST_PER_REQUEST=1.00

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================
#
# 1. Copy this file to .env.local
#    $ cp .env.example .env.local
#
# 2. Fill in all required values (marked with your_*_here)
#
# 3. Never commit .env.local to git (it's in .gitignore)
#
# 4. For production deployment:
#    - Use environment variable management from your hosting provider
#    - Vercel: https://vercel.com/docs/concepts/projects/environment-variables
#    - Set NODE_ENV=production
#    - Update NEXT_PUBLIC_APP_URL to your production domain
#
# ============================================================================
